%{
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int valid_date(int d, int m, int y) {
    // Check year range
    if (y < 1900 || y > 2025) return 0;

    // Days in months
    int days_in_month[] = {0,31,28,31,30,31,30,31,31,30,31,30,31};

    // Leap year check for February
    if ((y%400==0) || (y%4==0 && y%100!=0))
        days_in_month[2] = 29;

    if (m < 1 || m > 12) return 0;
    if (d < 1 || d > days_in_month[m]) return 0;

    return 1;
}
%}

%%
[0-9]{2}[-/][0-9]{2}[-/][0-9]{4}    {
        int d,m,y;
        sscanf(yytext,"%d%*[-/]%d%*[-/]%d",&d,&m,&y);
        if(valid_date(d,m,y))
            printf("Valid Date of Birth: %s\n", yytext);
        else
            printf("Invalid Date of Birth: %s\n", yytext);
    }

.|\n    ;
%%

int yywrap(){ return 1; }

int main() {
    printf("Enter Date of Birth (DD/MM/YYYY or DD-MM-YYYY):\n");
    yylex();
    return 0;
}
